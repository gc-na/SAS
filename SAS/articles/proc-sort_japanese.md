<!--
Meta Description: # PROC SORT: SASにおけるデータ整列の基本 ## 概要 PROC SORTは、SASプログラミング言語において、データセットを指定した変数に基づいて昇順または降順に整列させるための手続き（プロシージャ）です。このコマンドは、データ分析の前処理において非常に重要な役割を果たします。 ##...
Meta Keywords: proc, data, run, sort, sortは
-->

# PROC SORT: SASにおけるデータ整列の基本

## 概要
PROC SORTは、SASプログラミング言語において、データセットを指定した変数に基づいて昇順または降順に整列させるための手続き（プロシージャ）です。このコマンドは、データ分析の前処理において非常に重要な役割を果たします。

## ドキュメンテーション
PROC SORTは、次の目的で使用されます：

- データセットの整列：指定した変数に基づいてデータを昇順または降順に整列します。
- データ重複の削除：UNIQUEオプションを使用して、重複行を削除することが可能です。
- 整列したデータの新しいデータセットの作成：OUTオプションを使用して、整列されたデータを新しいデータセットに出力できます。

### 使用法
PROC SORTの基本的な構文は次の通りです：

```sas
PROC SORT DATA=入力データセット OUT=出力データセット;
    BY 整列する変数;
RUN;
```

- `DATA=`：整列する元のデータセットを指定します。
- `OUT=`：整列された結果を保存する新しいデータセットの名前を指定します。
- `BY`：整列基準となる変数を指定します。複数の変数を指定することも可能です。

## 例
以下は、PROC SORTの基本的な使用例です。

```sas
/* データセットの作成 */
DATA sample;
    INPUT id name $ age;
    DATALINES;
1 John 25
2 Alice 30
3 Bob 22
4 Alice 28
;
RUN;

/* データセットを年齢で整列 */
PROC SORT DATA=sample OUT=sorted_sample;
    BY age;
RUN;

/* 整列されたデータを表示 */
PROC PRINT DATA=sorted_sample;
RUN;
```

この例では、`sample`データセットを年齢（age）で昇順に整列し、結果を`sorted_sample`という新しいデータセットに保存しています。

## 説明
PROC SORTを使用する際の一般的な注意点や落とし穴について以下に説明します。

- **変数の指定**: `BY`ステートメントで指定した変数がデータセットに存在しない場合、エラーが発生します。
- **データ型の考慮**: 整列対象の変数が数値型か文字型かで結果が異なるため、整列の意図に応じて変数のデータ型に注意する必要があります。
- **データの重複**: UNIQUEオプションを使用しない限り、重複行はそのまま残りますので、必要に応じて重複の処理を行うことが重要です。

## 一文要約
PROC SORTは、SASでデータセットを特定の変数に基づいて整列するための強力なコマンドです。