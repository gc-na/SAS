<!--
Meta Description: # SAS 中的 SET 命令：數據集操作的基石 ## 概述 SET 命令是 SAS 程式語言中用於讀取和合併數據集的核心功能之一。通過使用 SET 命令，使用者可以輕鬆地將一個或多個現有數據集的數據導入到 DATA 步驟中，進行進一步的數據處理和分析。 ## 文檔 ### 目的 SET 命令主要用...
Meta Keywords: set, sas, data, 原數據集, run
-->

# SAS 中的 SET 命令：數據集操作的基石

## 概述
SET 命令是 SAS 程式語言中用於讀取和合併數據集的核心功能之一。通過使用 SET 命令，使用者可以輕鬆地將一個或多個現有數據集的數據導入到 DATA 步驟中，進行進一步的數據處理和分析。

## 文檔
### 目的
SET 命令主要用於將一個或多個數據集的數據讀取到當前的 DATA 步驟中。它可以用於數據集的合併、擴充數據集，以及在數據處理過程中創建新的變量。

### 用法
SET 命令的基本語法如下：
```sas
DATA 新數據集;
    SET 原數據集;
RUN;
```
在這裡，`原數據集` 是您希望讀取的現有數據集，而 `新數據集` 則是您要創建或修改的數據集。

### 詳細說明
- **多個數據集**：您可以在 SET 命令中指定多個數據集，這將導致 SAS 將這些數據集的數據串聯在一起。
- **變量處理**：當合併多個數據集時，SET 命令會自動處理變量名衝突，通常保留第一個數據集中該變量的值。
- **數據集選擇**：您可以使用 WHERE 子句來篩選所需的數據。例如：
    ```sas
    DATA 新數據集;
        SET 原數據集 (WHERE=(變量名=條件));
    RUN;
    ```

## 示例
### 基本用法
以下是使用 SET 命令的基本示例：
```sas
DATA 合併數據集;
    SET 數據集1 數據集2;
RUN;
```
在這個例子中，`數據集1` 和 `數據集2` 的數據將被合併到 `合併數據集` 中。

### 使用 WHERE 子句
```sas
DATA 篩選數據集;
    SET 原數據集 (WHERE=(年齡 > 30));
RUN;
```
這將創建一個新的數據集，其中僅包含年齡大於 30 的觀測值。

## 解釋
### 常見陷阱
- **變量名衝突**：當多個數據集中存在相同變量名時，SET 命令將只保留第一個數據集中的變量值。這可能導致意外的數據丟失。
- **數據集順序**：合併數據集的順序會影響最終結果。確保按照正確的順序使用 SET 命令，以獲得預期的合併結果。
- **缺失值處理**：在合併數據集時，缺失值處理的方式可能會影響數據的完整性和分析結果。

## 一行總結
SET 命令是 SAS 中用於讀取和合併數據集的基本工具，能夠有效地支持數據處理和分析任務。